<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition>

        <div class="ui-g">
            <p:dialog positionType="absolute" id="PlanEstrategicasCreateDlg" widgetVar="PlanEstrategicasCreateDialog" modal="true" resizable="false" appendTo="@(body)" header="#{mensajes.CreatePlanEstrategicasTitle}" closeOnEscape="true">

                <h:form id="PlanEstrategicasCreateForm">

                    <h:panelGroup id="display" rendered="#{planEstrategicasController.selected != null}">
                        <p:fieldset legend="Cabecera"> 
                            <div class="ui-sm-12 ui-md-8 ui-g-8">
                                <div class="ui-sm-12 ui-md-12 ui-g-12">
                                    <div class="ui-sm-12 ui-md-12 ui-g-12">
                                        <div class="ui-sm-12 ui-md-2 ui-g-2">
                                            <p:outputLabel value="#{mensajes.CreatePlanEstrategicasLabel_periodo}" for="periodo" />
                                        </div>

                                        <div class="ui-sm-12 ui-md-4 ui-g-4">
                                            <p:inputText id="periodo" value="#{planEstrategicasController.selected.periodo}" title="#{mensajes.CreatePlanEstrategicasTitle_periodo}" required="true" requiredMessage="#{mensajes.CreatePlanEstrategicasRequiredMessage_periodo}" size="10" maxlength="10">

                                            </p:inputText>
                                        </div>  


                                        <div class="ui-sm-12 ui-md-2 ui-g-2">
                                            <p:outputLabel value="#{mensajes.CreatePlanEstrategicasLabel_meta}" for="meta" />
                                        </div>

                                        <div class="ui-sm-12 ui-md-4 ui-g-4">
                                            <p:inputText id="meta" value="#{planEstrategicasController.selected.meta}" title="#{mensajes.CreatePlanEstrategicasTitle_meta}" required="true" requiredMessage="#{mensajes.CreatePlanEstrategicasRequiredMessage_meta}" size="10" maxlength="10">

                                            </p:inputText>
                                        </div>  


                                        <div class="ui-sm-12 ui-md-2 ui-g-2">
                                            <p:outputLabel value="#{mensajes.CreatePlanEstrategicasLabel_indicador}" for="indicador" />
                                        </div>

                                        <div class="ui-sm-12 ui-md-4 ui-g-4">
                                            <p:inputText id="indicador" value="#{planEstrategicasController.selected.indicador}" title="#{mensajes.CreatePlanEstrategicasTitle_indicador}" required="true" requiredMessage="#{mensajes.CreatePlanEstrategicasRequiredMessage_indicador}" size="10" maxlength="10">

                                            </p:inputText>
                                        </div>  

                                    </div>

                                </div>
                            </div>

                            <div class="ui-sm-12 ui-sm-12 ui-g-12">
                                <p:outputLabel value="Objetivo" />
                                <h:panelGroup>
                                    <p:selectOneMenu filter="true" filterMatchMode="contains" id="tiposObjetivos" value="#{planEstrategicasController.tiposObjetivos}" required="false" requiredMessage="#{mensajes.CreateUsuariosRequiredMessage_tiposObjetivos}" converter="tiposObjetivosConverter">
                                        <p:ajax  event="change" listener="#{planEstrategicasController.resetearListas(planEstrategicasController.tiposObjetivos)}"   update=":PlanEstrategicasCreateForm:accion"/>
                                        <f:selectItem itemLabel="#{mensajes.SelectOneMessage}"/>
                                        <f:selectItems value="#{tiposObjetivosController.items}"
                                                       var="tiposObjetivosItem"
                                                       itemValue="#{tiposObjetivosItem}"
                                                       itemLabel="#{tiposObjetivosItem.descripcion}"
                                                       />

                                    </p:selectOneMenu>
                                    <p:tooltip for="tiposObjetivos" value="#{planEstrategicasController.getComponentMessages('tiposObjetivos', mensajes.CreateInformesHelpText_tiposObjetivos)}"/>
                                </h:panelGroup>


                                <div class="ui-sm-10 ui-sm-12 ui-g-12">
                                    <p:outputLabel value="Descripción Objetivo" />
                                    <h:panelGroup>
                                        <p:selectOneMenu filter="true" filterMatchMode="contains" id="objetivo" value="#{planEstrategicasController.selected.objetivo}" required="false" requiredMessage="#{mensajes.CreatePlanEStrategicasRequiredMessage_objetivo}" converter="objetivosConverter">

                                            <f:selectItem itemLabel="#{mensajes.SelectOneMessage}"/>
                                            <f:selectItems value="#{objetivosController.items}"
                                                           var="objetivosItem"
                                                           itemValue="#{objetivosItem}"
                                                           itemLabel="#{objetivosItem.descripcion}"
                                                           />

                                        </p:selectOneMenu>
                                        <p:tooltip for="objetivo" value="#{planEstrategicasController.getComponentMessages('objetivo', mensajes.CreatePanEstrategicasHelpText_objetivo)}"/>
                                    </h:panelGroup>

                                </div>
                                <div class="ui-sm-10 ui-sm-12 ui-g-12">
                                    <p:outputLabel value="Accion" />
                                    <h:panelGroup>
                                        <p:selectOneMenu filter="true" filterMatchMode="contains" id="accion"  disabled="#{empty planEstrategicasController.tiposObjetivos}"  value="#{planEstrategicasController.selected.accion}" required="false" requiredMessage="#{mensajes.CreateUsuariosRequiredMessage_accion}" converter="accionesConverter">

                                            <f:selectItem itemLabel="#{mensajes.SelectOneMessage}"/>
                                            <f:selectItems value="#{planEstrategicasController.listaAcciones}"
                                                           var="accionItem"
                                                           itemValue="#{accionItem}"
                                                           itemLabel="#{accionItem.descripcion}"
                                                           />

                                        </p:selectOneMenu>
                                        <p:tooltip for="accion" value="#{planEstrategicasController.getComponentMessages('accion', mensajes.CreateInformesHelpText_accion)}"/>
                                    </h:panelGroup>
                                </div>

                            </div>

                        </p:fieldset>
                        <p:fieldset legend="Detalles"> 
                            <div class="ui-sm-12 ui-sm-10 ui-g-10">

                                <div class="ui-sm-12 ui-sm-2 ui-g-2">
                                    <p:outputLabel value="#{mensajes.CreatePlanEstrategicasLabel_actividad}" for="actividad" />
                                </div>
                                <div class="ui-sm-12 ui-sm-8 ui-g-8">
                                    <p:selectOneMenu id="actividad" filter="true" filterMatchMode="contains" value="#{planEstrategicasController.actividad}" disabled="#{empty planEstrategicasController.salidaArticulo.departamento or planEstrategicasController.salidaArticulo.sede}"  required="false"  requiredMessage="#{mensajes.CreatePlanEstrategicasRequiredMessage_actividad}" converter="actividadsConverter">
                                        <f:selectItem itemLabel="#{mensajes.SelectOneMessage}"/>
                                        <f:selectItems value="#{planEstrategicasController.items}"
                                                       var="actividadItem"
                                                       itemValue="#{actividadItem}"
                                                       itemLabel="#{actividadItem.descripcion}"
                                                       />

                                    </p:selectOneMenu>
                                </div>
                            </div>
                            <div class="ui-sm-12 ui-sm-4 ui-g-4">

                                <div class="ui-sm-12 ui-sm-4 ui-g-4">
                                    <p:outputLabel value="Stock"/>
                                </div>
                                <div class="ui-sm-12 ui-sm-8 ui-g-8">
                                    <p:inputText id="neto" disabled="true" value="#{planEstrategicasController.netoSalida}" title="#{mensajes.CreatePlanEstrategicassTitle_neto}" required="false" requiredMessage="#{mensajes.CreatePlanEstrategicassRequiredMessage_neto}" maxlength="60"/>
                                </div>
                            </div>


                            <div class="ui-sm-12 ui-sm-4 ui-g-4">
                                <div class="ui-sm-12 ui-sm-4 ui-g-4">
                                    <p:outputLabel value="#{mensajes.CreatePlanEstrategicasLabel_cantidad}" for="cantidad" />
                                </div>
                                <div class="ui-sm-12 ui-sm-8 ui-g-8">
                                    <p:inputNumber id="cantidad" disabled="#{empty planEstrategicasController.salidaArticulo.departamento }" decimalSeparator="" decimalPlaces="0" thousandSeparator="" value="#{planEstrategicasController.cantidad}" title="#{mensajes.CreatePlanEstrategicasTitle_cantidad}"/>
                                </div>
                            </div>  

                            <ui:remove>
                                <div class="ui-sm-12 ui-sm-10 ui-g-10">
                                    <div class="ui-sm-12 ui-sm-2 ui-g-2">
                                        <p:outputLabel value="#{mensajes.CreatePlanEstrategicasLabel_costoUnitario}" for="costoUnitario" />
                                    </div>
                                    <div class="ui-sm-12 ui-sm-6 ui-g-6">
                                        <p:inputNumber id="costoUnitario" disabled="true" symbol=" Gs. " symbolPosition="p" decimalSeparator="," decimalPlaces="0" thousandSeparator="." value="#{planEstrategicasController.costoUnitario}" title="#{mensajes.CreatePlanEstrategicasTitle_costoUnitario}"/>
                                    </div>   
                                </div> 


                                <div class="ui-sm-12 ui-sm-10 ui-g-10">   
                                    <div class="ui-sm-12 ui-sm-2 ui-g-2">
                                        <p:outputLabel value="#{mensajes.CreatePlanEstrategicasLabel_costoTotal}" for="costoTotal" />
                                    </div>
                                    <div class="ui-sm-12 ui-sm-6 ui-g-6">
                                        <p:inputNumber id="costoTotal" disabled="true" symbol=" Gs. " symbolPosition="p" decimalSeparator="," decimalPlaces="0" thousandSeparator="." value="#{planEstrategicasController.costoTotal}" title="#{mensajes.CreatePlanEstrategicasTitle_costoTotal}"/>
                                    </div>
                                </div>
                            </ui:remove>
                            <div class="ui-sm-12 ui-sm-8 ui-g-8">
                                <div class="ui-sm-12 ui-sm-4 ui-g-4">
                                    <p:outputLabel value="Marca" for="marcas" />
                                </div>
                                <div class="ui-sm-12 ui-sm-8 ui-g-8">
                                    <p:selectOneMenu id="marcas" value="#{planEstrategicasController.marca}" disabled="true" requiredMessage="#{mensajes.CreateArticulosRequiredMessage_marca}" converter="marcasConverter">
                                        <f:selectItem itemLabel="#{mensajes.SelectOneMessage}"/>
                                        <f:selectItems value="#{marcasController.items}"
                                                       var="marcaItem"
                                                       itemValue="#{marcaItem}"
                                                       itemLabel="#{marcaItem.descripcion}"
                                                       />
                                    </p:selectOneMenu>
                                </div>

                                <div class="ui-sm-12 ui-sm-4 ui-g-4">
                                    <p:outputLabel value="Modelo" for="modelos" />
                                </div>
                                <div class="ui-sm-12 ui-sm-8 ui-g-8">
                                    <p:selectOneMenu id="modelos" value="#{planEstrategicasController.modelo}"  disabled="true" requiredMessage="Ingrese modelo" converter="modelosConverter">
                                        <f:selectItem itemLabel="#{mensajes.SelectOneMessage}"/>
                                        <f:selectItems value="#{modelosController.items}"
                                                       var="modelosItem"
                                                       itemValue="#{modelosItem}"
                                                       itemLabel="#{modelosItem.descripcion}"
                                                       />
                                    </p:selectOneMenu>
                                </div>     

                                <div class="ui-sm-12 ui-sm-4 ui-g-4">
                                    <p:outputLabel value="Objeto Gasto" for="Objetogasto" />
                                </div>
                                <div class="ui-sm-12 ui-sm-8 ui-g-8">
                                    <!-- Este actividadsController.selected.Objetogasto tiene que ser igual al que está en Articulos, incluyendo mayusculas y minusculas -->
                                    <!-- Este required="true" vamos a dejarle en false para que sea opcional nomas -->
                                    <!-- Este CreateArticulosRequiredMessage_Objetogasto vamos a crear en Mensajes.properties. Ese y los demas -->
                                    <p:selectOneMenu id="Objetogasto" value="#{planEstrategicasController.objetosGasto}"  disabled="true" requiredMessage="#{mensajes.CreateArticulosRequiredMessage_Objetogasto}" converter="objetosgastoConverter"> <!-- Este converter tiene que ser igual al que está en ObjetosGastoConverter, con las mayusculas y minusculas -->
                                        <f:selectItem itemLabel="#{mensajes.SelectOneMessage}"/>
                                        <!-- Este tambien tenes que cambiar a objetosGastoController --> 
                                        <f:selectItems value="#{objetosGastoController.items}"
                                                       var="ObjetogastoItem"
                                                       itemValue="#{ObjetogastoItem}"
                                                       itemLabel="#{ObjetogastoItem.codigo}"
                                                       />
                                    </p:selectOneMenu>
                                </div>     
                                <div class="ui-sm-12 ui-sm-4 ui-g-4">
                                    <p:outputLabel value="#{mensajes.CreateArticulosLabel_codigo_suministro}" for="codigoSuministro" />
                                </div>
                                <div class="ui-sm-12 ui-sm-8 ui-g-8">
                                    <p:inputText id="codigoSuministro" disabled="true" value="#{planEstrategicasController.actividad.codigo}" title="#{mensajes.CreateArticulosTitle_codigo_Suministro}" required="false" requiredMessage="#{mensajes.CreateArticulosRequiredMessage_codigo_Suministro}" maxlength="60"/>
                                </div>
                            </div>


                            <div class="ui-sm-12 ui-sm-12 ui-g-12">

                                <ui:remove>
                                    <div class="ui-sm-12 ui-sm-2 ui-g-2">
                                        <p:outputLabel value="#{mensajes.CreateEntradasArticuloLabel_fechaVencimiento}" for="fechaVencimiento" />
                                    </div>
                                    <div class="ui-sm-12- ui-sm-4 ui-g-4">
                                        <p:calendar size="7" id="fechaVencimiento" pattern="dd/MM/yyyy" navigator="true" value="#{planEstrategicasController.fechaVencimiento}" title="Fecha Vencimiento"  showOn="button">
                                            <p:ajax event="change"   update="@form:actividad,@form:cantidad" />
                                        </p:calendar>
                                    </div>  
                                </ui:remove>


                                <ui:remove>
                                    <div class="ui-sm-12 ui-sm-2 ui-g-2">
                                        <p:outputLabel value="#{mensajes.CreateArticulosLabel_codigo_DNCP}" for="codigo_DNCP" />
                                    </div>
                                    <div class="ui-sm-12 ui-sm-4 ui-g-4">
                                        <p:inputText id="codigo_DNCP" value="#{planEstrategicasController.codigoDNCP}" title="#{mensajes.CreateArticulosTitle_codigo_DNCP}" required="false" requiredMessage="#{mensajes.CreateArticulosRequiredMessage_codigo_DNCP}" maxlength="60"/>
                                    </div>
                                </ui:remove>

                                <div class="ui-sm-12 ui-sm-4 ui-g-4">
                                    <div class="ui-sm-12 ui-sm-2 ui-g-2">
                                        <p:commandButton actionListener="#{planEstrategicasController.agregar()}" value="Agregar" update=":PlanEstrategicasCreateForm:actividad, :PlanEstrategicasCreateForm:neto, :PlanEstrategicasCreateForm:cantidad, :PlanEstrategicasCreateForm:totalSalida, :PlanEstrategicasCreateForm:datalist,:growl"  />
                                    </div>
                                    <div class="ui-sm-12 ui-sm-2 ui-g-2">
                                        <p:commandButton id="deleteButton" style="visibility: visible;" icon="ui-icon-trash"  value="#{mensajes.Delete}" actionListener="#{planEstrategicasController.borrarDetalle()}" update=":growl,datalist,:PlanEstrategicasCreateForm:neto,:PlanEstrategicasCreateForm:totalSalida" disabled="#{empty planEstrategicasController.detalleSelected}"/>
                                    </div>
                                </div>
                            </div>
                            <p:contextMenu id="DetallesSalidaArticuloDataTableContextMenu" for="datalist">  

                                <p:menuitem value="#{mensajes.Delete}" onclick="document.getElementById('PlanEstrategicasCreateForm:deleteButton').click();" icon="ui-icon-trash"/>

                            </p:contextMenu>

                            <div class="ui-sm-12 ui-sm-12 ui-g-12">
                                <p:dataTable id="datalist"
                                             value="#{planEstrategicasController.detalles}"
                                             lazy="false" emptyMessage="#{mensajes.NoRegistros}"
                                             rowKey="#{item.id}"
                                             var="item"
                                             paginator="true"
                                             rows="10"
                                             rowsPerPageTemplate="10,20,30,40,50"
                                             selectionMode="single"
                                             selection="#{planEstrategicasController.detalleSelected}">


                                    <p:ajax event="rowSelect"   update="@form:deleteButton,@form:DetallesSalidaArticuloDataTableContextMenu"/>
                                    <p:ajax event="rowUnselect" update="@form:deleteButton,@form:DetallesSalidaArticuloDataTableContextMenu"/>
                                    <p:ajax event="contextMenu" update="@form:deleteButton"/>
                                    <p:ajax event="rowDblselect" onsuccess="document.getElementById('PlanEstrategicasListForm:viewButton').click();"/>

                                    <p:column sortBy="#{item.item}" >
                                        <f:facet name="header">
                                            <h:outputText value="Item"/>
                                        </f:facet>
                                        <h:outputText value="#{item.item}"/>
                                    </p:column>

                                    <p:column sortBy="#{item.actividad.descripcionLarga}">
                                        <f:facet name="header">
                                            <h:outputText value="#{mensajes.ListDetallesSalidaArticuloTitle_actividad}"/>
                                        </f:facet>
                                        <h:outputText value="#{item.actividad.descripcionLarga}"/>
                                    </p:column>

                                    <p:column sortBy="#{item.actividad.marca.descripcion}" >
                                        <f:facet name="header">
                                            <h:outputText value="#{mensajes.ListDetallesSalidaArticuloTitle_marca}"/>
                                        </f:facet>
                                        <h:outputText value="#{item.actividad.marca.descripcion}"/>
                                    </p:column>

                                    <p:column sortBy="#{item.entradaArticulo.nroFactura}" >
                                        <f:facet name="header">
                                            <h:outputText value="Nro factura"/>
                                        </f:facet>
                                        <h:outputText value="#{item.entradaArticulo.nroFactura}"/>
                                    </p:column>

                                    <p:column sortBy="#{item.fechaVencimiento}" >
                                        <f:facet name="header">
                                            <h:outputText value="Fecha vencimiento"/>
                                        </f:facet>
                                        <h:outputText value="#{item.fechaVencimiento}">
                                            <f:convertDateTime pattern="dd/MM/yyyy" timeZone="America/Asuncion" />
                                        </h:outputText>
                                    </p:column>

                                    <p:column sortBy="#{item.cantidad}">
                                        <f:facet name="header">
                                            <h:outputText value="#{mensajes.ListDetallesSalidaArticuloTitle_cantidad}"/>
                                        </f:facet>
                                        <h:outputText value="#{item.cantidad}">
                                            <f:convertNumber type="number" groupingUsed="true" locale="es_PY" minFractionDigits="0" />
                                        </h:outputText>
                                    </p:column>

                                    <p:column sortBy="#{item.costoUnitario}">
                                        <f:facet name="header">
                                            <h:outputText value="#{mensajes.ListDetallesSalidaArticuloTitle_costoUnitario}"/>
                                        </f:facet>
                                        <h:outputText value="#{item.costoUnitario}">
                                            <f:convertNumber type="number" groupingUsed="true" locale="es_PY" minFractionDigits="0" />
                                        </h:outputText>
                                    </p:column>


                                    <p:column sortBy="#{item.costoTotal}">
                                        <f:facet name="header">
                                            <h:outputText value="#{mensajes.ListDetallesSalidaArticuloTitle_costoTotal}"/>
                                        </f:facet>
                                        <h:outputText value="#{item.costoTotal}">
                                            <f:convertNumber type="number" groupingUsed="true" locale="es_PY" minFractionDigits="0" />
                                        </h:outputText>
                                    </p:column>

                                    <p:column sortBy="#{item.sede.descripcion}">
                                        <f:facet name="header">
                                            <h:outputText value="Depoito"/>
                                        </f:facet>
                                        <h:outputText value="#{item.sede.descripcion}">

                                        </h:outputText>
                                    </p:column>

                                    <ui:remove>        
                                        <p:column sortBy="#{item.exentas}">
                                            <f:facet name="header">
                                                <h:outputText value="#{mensajes.ListDetallesSalidaArticuloTitle_exentas}"/>
                                            </f:facet>
                                            <h:outputText value="#{item.detallesSalidaArticulo.exentas}">
                                                <f:convertNumber type="number" groupingUsed="true" locale="es_PY" minFractionDigits="0" />
                                            </h:outputText>
                                        </p:column>

                                        <p:column sortBy="#{item.detallesSalidaArticulo.iva_5}">
                                            <f:facet name="header">
                                                <h:outputText value="#{mensajes.ListDetallesSalidaArticuloTitle_iva_5}"/>
                                            </f:facet>
                                            <h:outputText value="#{item.detallesSalidaArticulo.iva_5}">
                                                <f:convertNumber type="number" groupingUsed="true" locale="es_PY" minFractionDigits="0" />
                                            </h:outputText>
                                        </p:column>

                                        <p:column sortBy="#{item.detallesSalidaArticulo.iva_10}">
                                            <f:facet name="header">
                                                <h:outputText value="#{mensajes.ListDetallesSalidaArticuloTitle_iva_10}"/>
                                            </f:facet>
                                            <h:outputText value="#{item.detallesSalidaArticulo.iva_10}">
                                                <f:convertNumber type="number" groupingUsed="true" locale="es_PY" minFractionDigits="0" />
                                            </h:outputText>
                                        </p:column>
                                    </ui:remove>
                                    <ui:remove>
                                        <p:column sortBy="#{item.usuarioAlta.id}" filterBy="#{item.usuarioAlta.id}">
                                            <f:facet name="header">
                                                <h:outputText value="#{mensajes.ListPlanEstrategicasTitle_usuarioAlta}"/>
                                            </f:facet>
                                            <h:outputText value="#{item.usuarioAlta.id}"/>
                                        </p:column>

                                        <p:column sortBy="#{item.usuarioUltimoEstado.id}" filterBy="#{item.usuarioUltimoEstado.id}">
                                            <f:facet name="header">
                                                <h:outputText value="#{mensajes.ListPlanEstrategicasTitle_usuarioUltimoEstado}"/>
                                            </f:facet>
                                            <h:outputText value="#{item.usuarioUltimoEstado.id}"/>
                                        </p:column>
                                    </ui:remove>
                                </p:dataTable>


                                <div class="ui-sm-12 ui-sm-12 ui-g-12">
                                    <div class="ui-sm-12 ui-sm-8 ui-g-8"></div>
                                    <div class="ui-sm-12 ui-sm-4 ui-g-4">
                                        <h:outputText id= "totalSalida" value="#{planEstrategicasController.totalSalida}">
                                            <f:convertNumber type="currency" groupingUsed="true" currencySymbol="Total General Gs. " locale="es_PY" minFractionDigits="0" />
                                        </h:outputText>
                                    </div>
                                </div>

                                <ui:remove>
                                    <div class="ui-sm-12 ui-sm-12 ui-g-12">
                                        <div class="ui-sm-12 ui-sm-4 ui-g-4">
                                            <h:outputText id="totalIva_5" value="#{entradasArticuloController.totalIva_5}">
                                                <f:convertNumber type="currency" groupingUsed="true" currencySymbol="5%: " locale="es_PY" minFractionDigits="0" />
                                            </h:outputText>
                                        </div>

                                        <div class="ui-sm-12 ui-sm-4 ui-g-4">
                                            <h:outputText id="totalIva_10" value="#{entradasArticuloController.totalIva_10}">
                                                <f:convertNumber type="currency" groupingUsed="true" currencySymbol="10%: " locale="es_PY" minFractionDigits="0" />
                                            </h:outputText>
                                        </div>

                                        <div class="ui-sm-12 ui-sm-4 ui-g-4">
                                            <h:outputText id="totalIva" value="#{entradasArticuloController.totalIva}">
                                                <f:convertNumber type="currency" groupingUsed="true" currencySymbol="TOTAL IVA: " locale="es_PY" minFractionDigits="0" />
                                            </h:outputText>
                                        </div>
                                    </div>
                                </ui:remove>      
                            </div>

                        </p:fieldset>

                        <p:commandButton actionListener="#{planEstrategicasController.saveNew}" value="#{mensajes.Save}" update="display,:PlanEstrategicasListForm:datalist,:PlanEstrategicasListForm:datalistDetalle,:growl,:menuForm:nuevos" oncomplete="handleSubmit(xhr,status,args,PF('PlanEstrategicasCreateDialog'));">
                            <p:confirm header="#{mensajes.ConfirmationHeader}" message="#{mensajes.ConfirmCreateMessage}" icon="ui-icon-alert"/>
                        </p:commandButton>

                        <p:commandButton value="#{mensajes.Cancel}" oncomplete="PF('PlanEstrategicasCreateDialog').hide()" update="display" process="@this" immediate="true" resetValues="true"/>     
                    </h:panelGroup>
                </h:form>
            </p:dialog>
        </div>   
    </ui:composition>
</html>
